<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Titre</title>
    <script src="jquery-3.3.1.min.js"></script>
</head>
<body>

<table id="usertable" border="1">
    <tr>

        <th>Nom</th>
        <th>Prenom</th>
    </tr>
</table>
<br>

<form id="form">
    id<input type="text" name="id" id="id"/><br>
    Lastname<input type="text" name="last_name" id="last"/><br>
    Firstname<input type="text" name="first_name" id="first"/><br>
    Date birth<input type="datetime-local" name="date" id="date"/><br>
    <button type="submit" id="submit">Ajouter</button>
</form>


<script>

    /*$.ajax('http://127.0.0.1:8000/userAll', {
        type: 'GET',
        dataType: 'json',
        success: function (data) {

            $.each((data), function (i, obj) {

                userFirstname = obj.firstname;
                userLastname = obj.lastname;
                $('#usertable').append('<tr><td>' + userLastname + '</td>' + '<td>' + userFirstname + '</td></tr>');

            });
        },
        error: function (xhr, sts, err) {
            alert('Erreur !!');
        }
    });*/

/*
   $.submit('#submit').on('click', function () {
        alert('fff');
        $.ajax('http://127.0.0.1:8000/user', {
            type: 'POST',
            dataType: 'json',
            data: $('#form').serialize(),


            success: function (result) {
                alert(result);
            },
            error: function (xhr, resp, text) {

                console.log(xhr, resp, text);
            }

        })
    });   */

        $("#submit").click(function{

            $.post(
                'http://127.0.0.1:8000/user', // Un script PHP que l'on va créer juste après
                {
                    id : $("#id").val(),  // Nous récupérons la valeur de nos inputs que l'on fait passer à connexion.php
                    lastname : $("#last").val(),  // Nous récupérons la valeur de nos inputs que l'on fait passer à connexion.php
                    firstname : $("#first").val(),
                    date : $("#date").val(),
                },

                function(data){ // Cette fonction ne fait rien encore, nous la mettrons à jour plus tard
                },

                'text' // Nous souhaitons recevoir "Success" ou "Failed", donc on indique text !
            );

        });



</script>
</body>
</html>
