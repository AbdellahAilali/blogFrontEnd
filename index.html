<!DOCTYPE html>

<head>
    <meta charset="utf-8"/>
    <title>Titre</title>
    <script src="public/jquery-3.3.1.min.js"></script>
    <script src="public/ajaxRequest.js"></script>
    <link rel="stylesheet" href="public/bootstrap.min.css">
    <link rel="stylesheet" href="public/stye.css">
</head>
<body>


<table class="table table-dark" id="usertable" border="1">
</table>

<form id="form" class="form-row">
    <div class="row">
        id<input type="text" name="id" value="id" class="form-control"/>
    </div>
    <div class="row">
        Lastname<input type="text" name="lastname" value="lastname" class="form-control"/>
    </div>
    <div class="row">
        Firstname<input type="text" name="firstname" value="firstname" class="form-control"/>
    </div>

    <div class="row">
        Date birth<input type="datetime-local" name="dateNaissance" value="2018-07-23 08:07:34"
                         class="form-control"/>
    </div>
    <br>
    <div class="row">
        <button class="btn btn-primary" type="submit" id="submit">Button</button>
    </div>jquery-request
</form>

<script>
    //charge le tableau d'users
    laodUsers();
    //actualise le tableau users avec un new user
    /*$("#form").on('submit', function (event) {
        event.preventDefault();
        createUser($(this));
    });*/

   /* $(document).on("click", '.delete', function(event) {
        deleteUser();
        event.preventDefault();
    });*/
    $(document).on("click", '.delete', function(event) {
        var id = $(this).closest("tr").find("td input").val();
        $.ajax({
            data: {'action': 'delete'},
            url: 'http://127.0.0.1:8000/user_delete/' + id,
            type: 'GET',

            success: function() {
                //en cas de succ√©s de recharge la page pour voir la modif
                laodUsers();
            },
            error: function (xhr, sts, err) {
                alert('Erreur delete!!');
            }
        });
        return false;
    });


</script>

</body>
</html>
